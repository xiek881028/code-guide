# 项目工程规范

该文档主要的设计目标是统一项目工程规范，方便查找与使用。

## 标注说明

- <font color="#f0c929">[建议]</font>：表示该规范是`代码质量`类型，书写时需要注意，对于提升代码质量有一定帮助，不做强制要求；
- <font color="#ff7171">[质量]</font>：表示该规范是`代码质量`类型，书写时需要注意，对于提升代码质量有较大帮助。必要时会采用`eslint`进行检查。

## 通用项目工程

### 通用项目组织规范

- <font color="#ff7171">[质量]</font> 在一个前端项目或前端工具包中，必须包含以下文件

  - `README.md` 包含项目的关键信息以及其他关键事项。一般包含以下信息：
    - 简要描述项目背景，项目主要特征
    - 运行环境，技术栈，安装和构建命令
    - 简单示例代码
    - 文档或文档入口
    - 联系方式、讨论群
    - 许可、贡献
    - 开发指南
  - `CHANGELOG.md` 放置每个版本的变动内容，让使用者方便了解项目更新情况。随着版本同步维护。
  - `package.json` 包描述文件，包含基础的配置信息。包含如下：
    - name\[必须\] 包名
    - version\[必须\] 版本号。必须符合[semver](https://semver.org/lang/zh-CN/)格式约定
    - maintainers\[必须\] 维护者列表。该字段必须为一个数组，数组中每一项必须包含`name`和`email`字段
    - contributions\[必须\] 贡献者列表。该字段必须为一个数组，数组中每一项必须包含`name`和`email`字段。原则上该字段不允许删除，按字母顺序排列。每个人的劳动成果都应该被尊重
    - description\[可选]\ 包描述
    - keywords\[可选]\ 关键词
    - author\[可选]\ 作者
    - licenses\[可选]\ 许可证列表
    - homepage\[可选]\ 网站地址

### 目录组织的风格

目录有两种组织模式：

- **Rails-style(职能)**：按照文件的类型划分为不同的目录，例如`components`、`constants`、 `typings`、`views`
- **Domain-style(功能特性、业务逻辑)**：按照一个功能特性或业务创建单独的目录，这个目录就近包含多种类型的文件或目录

#### ${root}目录结构划分

- <font color="#ff7171">[质量]</font> 在\${root}下，目录必须以`职能`模式划分，不允许将`资源类型`或`业务逻辑`划分的目录直接置于\${root}下

#### 非${root}目录结构

- <font color="#ff7171">[质量]</font> 在非\${root}下，可以根据实际情况选择目录组织模式。但禁止在同级目录中同时出现`职能`模式划分与`资源类型`或`业务逻辑`模式划分

#### 目录命名原则

- <font color="#f0c929">[建议]</font> 简洁。有习惯缩写的单词，建议采用容易理解的缩写，但不可为了追求简洁过度缩写造成理解困难。例如
  - `img` 图片。bad：`image`、`images`、`imgs`
  - `js` javascript 脚本。bad：`script`、`scripts`、`javascript`
  - `css` 样式表。bad：`style`、`styles`
  - `src` 源文件目录。bad：`source`
  - `lib` 引入的第三方依赖包目录。bad：`library`、`dependency`
- <font color="#f0c929">[建议]</font> 不允许（讨论）使用复数形式
- <font color="#f0c929">[建议]</font> 命名必须使用小驼峰命名法

#### `CHANGELOG.md`建议模板

<font color="#f0c929">[建议]</font> `CHANGELOG.md`可以使用以下模板，按更新版本倒序排列。

```markdown
# 更新日志

---

## 0.1.1 - 2021-03-24

### 新增

- 新增内容

### 删除

- 删除内容

### 更新

- 更新内容

### 修复

- 修复内容

## 0.1.0 - 2021-03-23

### 新增

- 新增内容
```

## web 项目工程

### 浏览器兼容策略

- <font color="#ff7171">[质量]</font> 在项目开始初期讨论确定选择`渐进增强`或`优雅降级`，确定后不再更改。同时将此项记录在`README.md`文档内。

> 渐进增强保证低版本浏览器的体验，对于支持新特性的新浏览器提供稍好的体验
>
> 优雅降级则是相反的，为现代浏览器提供最好的体验，而旧浏览器则退而求之次，保证大概的功能

### 浏览器兼容性

- <font color="#f0c929">[建议]</font> 标准浏览器最新版、IE11+
